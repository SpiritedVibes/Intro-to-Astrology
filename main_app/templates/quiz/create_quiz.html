{% extends 'base.html' %}
{% load static %}

{% block head %}
    <link rel="stylesheet" href="{% static 'css/quiz/create_quiz.css' %}">
{% endblock %}

{% block content %}
    <h1>Create a New Quiz</h1>

    <div class="quiz-container">
        <form method="POST" id="quiz-form">
            {% csrf_token %}
            {{ quiz_form.as_p }}

            <h2>Questions</h2>

            <div id="questions-container">
                {% for form in question_formset %}
                    <div class="question-form">
                        <label for="{{ form.question_text.id_for_label }}">Question {{ forloop.counter }}:</label>
                        {{ form.question_text }}

                        <label for="answer_{{ forloop.counter }}_1">Answer 1:</label>
                        <input type="text" name="answer_{{ forloop.counter }}_1" required>

                        <label for="answer_{{ forloop.counter }}_2">Answer 2:</label>
                        <input type="text" name="answer_{{ forloop.counter }}_2" required>

                        <label for="answer_{{ forloop.counter }}_3">Answer 3:</label>
                        <input type="text" name="answer_{{ forloop.counter }}_3" required>

                        <label for="answer_{{ forloop.counter }}_4">Answer 4:</label>
                        <input type="text" name="answer_{{ forloop.counter }}_4" required>

                        <label for="correct_answer_{{ forloop.counter }}">Correct Answer:</label>
                        <select name="correct_answer_{{ forloop.counter }}" required>
                            <option value="1">Answer 1</option>
                            <option value="2">Answer 2</option>
                            <option value="3">Answer 3</option>
                            <option value="4">Answer 4</option>
                        </select>
                    </div>
                {% endfor %}
            </div>

            <button type="submit">Create Quiz</button>
        </form>

        <form method="GET" action="{% url 'create_quiz' %}">
            <input type="hidden" name="extra" value="{{ extra|add:1 }}">
            <button type="submit">Add Another Question</button>
        </form>
        
    </div>

    <a href="{% url 'quiz_list' %}">Back to Quiz List</a>
{% endblock %}
